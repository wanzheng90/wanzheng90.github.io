---
title: 深入理解计算机系统-第一章
date: 2017-05-10 10:32:16
tags:
category: 深入理解计算机系统
---
# 计算机简介
知识点:
	1、信息在计算机中的表示方法；
	2、一段代码最终如何运行；
	3、抽象模型的简洁性与实现的复杂性

<!-- more -->

# 1、信息在计算机中的表示
> 信息 = 二进制 + 上下文

在计算机中一切信息都是通过二进制表示的，而要区分一段二进制到底是指令、文字、图片还是其它信息只通过这段二进制是无法知道的，只能通过其它信息设定来得知。当用文本编辑器来打开这段二进制文件时，文本编辑器会通过ASCII编码或UTF-8编码的规则来解读处理这段二进制，如果通过shell来执行，则CPU会把其当做指令来读取并执行对应的动作。
> 文本文件与二进制文件：文件中为ASCII编码或UTF-8等字符编码，则将此文件叫做文本文件，否则就是二进制文件

# 2、一段hello world c源码的执行
有一个源文件helloWorld.c,代码如下：
```c
# include <stdio.h>

int main(int argc,char *args[]){
	printf("Hello World\n");
	return 0;
}

```
运行命令: gcc helloWorld.c -o helloWorld
执行完成后，运行在shell中运行编译编译结果程序: ./helloWorld
最终输出结果: Hello World

## hello world 程序由源码到机器码的二进制过程
> 大体过程：预编译 -> 编译 -> 汇编 -> 链接

+ 预编译: 预处理器，将"# include <stdio.h>" ，替换为实际代码。这个过程主要是处理掉源码中编译期信息。
* 命令：cpp 
* 输入：源码
* 输出: 处理后源码，文本文件

+ 编译：处理后源码翻译为对应的汇编指令
* 命令：cc1
* 输入: 处理后源码
* 输出：汇编文件，文本文件

+ 汇编：将汇编指令转换为对应的机器码
* 命令：as
* 输入：汇编指令
* 输出：机器码文件，可重定位二进制文件

+ 链接：将printf方法链接到二进制文件中
* 命令：dl
* 输入：克重定位文件
* 输出：可执行二进制文件

## hello world 程序执行过程
初始流程：CPU从磁盘读取文件到内存中 -> CPU执行查询 ->CPU把字符从内存写入到显示器设备
这个过程中，CPU将大量时间花费在数据转移中，并没有进行计算，可以让设备之间直接传输数据，减少CPU压力
改进后流程：


